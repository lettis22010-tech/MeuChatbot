import{af as Ie,P as b,R as Re,o as Me,a as nt,r as s,c as M,q as ot,H as ke,j as e,D as Ee,h as Ae,k as He,B as g,a1 as lt,E as oe,aA as dt,aB as ct,d as O,l as V,s as Pe,n as D,S as Oe,U as pt,V as gt,W as mt,Y as ht,O as ut,L as ft,f as Ve,i as Te,u as xt,Q as jt,p as bt,b as St,ak as vt,M as yt,a8 as L,aj as y,as as H,J as Dt,K as Ct,aq as te,ar as re}from"./index-B1XR3Coy.js";import{m as Ue}from"./moment-9Y6NtRWJ.js";import{C as kt}from"./ConfirmDialog-Bksga_et.js";import{I as we}from"./InputAdornment-D6_duzKN.js";import{b as wt}from"./IconSearch-BzBgax5m.js";import{D as ae}from"./DocStoreInputHandler-9-EYgHTZ.js";import{V as It}from"./ViewHeader-jo2V0q71.js";import{B as Rt}from"./BackdropLoader-C982mQas.js";import{E as Mt}from"./ErrorBoundary-WOMkE_83.js";import{U as Et}from"./UpsertResultDialog-B7g2uZ1e.js";import{v as At,H as Ht}from"./vectorstore-BUOpP3fi.js";import{S as Pt,I as Ot,T as Vt,t as Tt,a as Ut,b as Lt,c as Nt,d as _t,e as $t,f as Ft}from"./TimelineSeparator-PH_ObRv8.js";import{d as Wt}from"./ExpandMore-BP5oMSwT.js";import{T as qt}from"./Table-CcAGPqUI.js";import{S as N}from"./StatsCard-Dg5IN5gY.js";import{A as Bt,d as Yt,e as zt}from"./MemoizedReactMarkdown-CNH2mkE4.js";import{d as P}from"./documentstore-GQ_lrBF1.js";import{n as ie}from"./nodes-D-x6LTqi.js";import{d as _}from"./DynamicFeed-qKNr2bwA.js";import{I as Gt}from"./IconRefresh-B2aTlEaU.js";import{I as Qt}from"./IconDeviceFloppy-CcMo-Sl3.js";import{I as Jt}from"./IconClock-eC9b3RM9.js";import{v as se}from"./v4-D8aEg3BZ.js";import{S as Kt,a as Xt,b as Zt}from"./Stepper-CvQjJ8b9.js";import"./Dropdown-BH_BuIwh.js";import"./Autocomplete-2B99MXTa.js";import"./Close-CA_iFeNy.js";import"./FormControl-Cb0ROeST.js";import"./TextField-BEeUeVUl.js";import"./InputLabel-HPVYUEFn.js";import"./MultiDropdown-OnTaU3K-.js";import"./CredentialInputHandler-NSWgGX5U.js";import"./CredentialListDialog-ooDI7A-3.js";import"./TooltipWithParser-C72LCUcD.js";import"./index-D--Rb2MU.js";import"./Tooltip-9ICsuaYn.js";import"./Input-C2v4FwXn.js";import"./ListItem-C9nlU6HX.js";import"./Switch-BtbcRzr_.js";import"./main-BBsr8sqY.js";import"./IconArrowsMaximize-BrsSDZNx.js";import"./IconAlertTriangle-Bdlxpe5D.js";import"./Delete-CvnCkEIf.js";import"./IconPlus-DpyX5kZB.js";import"./Grid-DtMOPoeK.js";import"./toPropertyKey-hKuLU48H.js";import"./createStyled-BzRwilhm.js";import"./Skeleton-BQAmmov-.js";import"./KeyboardArrowRight-KQTKBFVE.js";import"./LastPage-CMvObEkB.js";import"./GridActionsCellItem-C4fgcfe6.js";import"./File-B2PWlg1I.js";import"./CodeEditor-BjDzi2Vy.js";import"./index-DhL3T6x0.js";import"./suggestionOption-CTRD7oqB.js";import"./TabPanel-C2EL9Kp7.js";import"./ExpandTextDialog-Sszv9N4G.js";import"./LoadingButton-BHZSG_sF.js";import"./IconTrash-BvhWIQ6v.js";import"./ToolDialog-hiXiaWJY.js";import"./ExportAsTemplateDialog-CN3tapJC.js";import"./AssistantDialog-BG0DIOgO.js";import"./assistants-C-o7l-z6.js";import"./IconLanguage-Dreb5nKM.js";import"./string-3NetaFjT.js";import"./IconBulb-CwCq2_I0.js";import"./StyledFab-BqTal21_.js";import"./IconCopy-BBl1XuSo.js";/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ne=Ie("outline","edit-circle","IconEditCircle",[["path",{d:"M12 15l8.385 -8.415a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3z",key:"svg-0"}],["path",{d:"M16 5l3 3",key:"svg-1"}],["path",{d:"M9 7.07a7 7 0 0 0 1 13.93a7 7 0 0 0 6.929 -6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var er=Ie("outline","row-insert-top","IconRowInsertTop",[["path",{d:"M4 18v-4a1 1 0 0 1 1 -1h14a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M12 9v-4",key:"svg-1"}],["path",{d:"M10 7l4 0",key:"svg-2"}]]);const $=({show:m,dialogProps:p,onCancel:C,apiCall:I,onSelected:v})=>{const i=document.getElementById("portal"),u=Re(d=>d.customization),h=Me(),a=nt(),[S,f]=s.useState(""),[x,R]=s.useState([]),k=M(I),E=d=>{f(d)};function A(d){var j;return((j=d==null?void 0:d.name)==null?void 0:j.toLowerCase().indexOf(S.toLowerCase()))>-1}s.useEffect(()=>{},[p]),s.useEffect(()=>{k.request()},[]),s.useEffect(()=>{k.data&&R(k.data)},[k.data]),s.useEffect(()=>(h(m?{type:ot}:{type:ke}),()=>h({type:ke})),[m,h]);const T=m?e.jsxs(Ee,{fullWidth:!0,maxWidth:"md",open:m,onClose:C,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(Ae,{sx:{fontSize:"1rem",p:3,pb:0},id:"alert-dialog-title",children:p.title}),e.jsxs(He,{sx:{display:"flex",flexDirection:"column",gap:2,maxHeight:"75vh",position:"relative",px:3,pb:3},children:[e.jsx(g,{sx:{backgroundColor:u.isDarkMode?a.palette.background.darkPaper:a.palette.background.paper,pt:2,position:"sticky",top:0,zIndex:10},children:e.jsx(lt,{sx:{width:"100%",pr:2,pl:2,position:"sticky"},id:"input-search-credential",value:S,onChange:d=>E(d.target.value),placeholder:"Search",startAdornment:e.jsx(we,{position:"start",children:e.jsx(wt,{stroke:1.5,size:"1rem",color:a.palette.grey[500]})}),endAdornment:e.jsx(we,{position:"end",sx:{cursor:"pointer",color:a.palette.grey[500],"&:hover":{color:a.palette.grey[900]}},title:"Clear Search",children:e.jsx(oe,{stroke:1.5,size:"1rem",onClick:()=>E(""),style:{cursor:"pointer"}})}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"}})}),e.jsx(dt,{sx:{width:"100%",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:2,py:0,zIndex:9,borderRadius:"10px",[a.breakpoints.down("md")]:{maxWidth:370}},children:[...x].filter(A).map(d=>e.jsxs(ct,{alignItems:"center",onClick:()=>v(d),sx:{border:1,borderColor:a.palette.grey[900]+25,borderRadius:2,display:"flex",alignItems:"center",justifyContent:"start",textAlign:"left",gap:1,p:2},children:[e.jsx("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:d.name,src:`${O}/api/v1/node-icon/${d.name}`})}),e.jsx(V,{children:d.label})]},d.name))})]})]}):null;return Pe.createPortal(T,i)};$.propTypes={show:b.bool,dialogProps:b.object,onCancel:b.func,apiCall:b.func,onSelected:b.func};const Le=({show:m,dialogProps:p,onClickFunction:C,onSelectHistoryDetails:I})=>{const v=()=>{},[i,u]=s.useState([]),h=M(At.getUpsertHistory);return s.useEffect(()=>{h.request(p.id)},[p]),s.useEffect(()=>{h.data&&u(h.data)},[h.data]),e.jsx(e.Fragment,{children:e.jsxs(Pt,{anchor:"right",open:m,onClose:()=>C(),onOpen:v,children:[e.jsx(D,{startIcon:e.jsx(Ot,{}),onClick:()=>C(),children:"Close"}),e.jsx(g,{style:{width:350,margin:10},role:"presentation",onClick:C,children:e.jsxs(Vt,{sx:{[`& .${Tt.root}`]:{flex:1}},children:[i&&i.map((a,S)=>e.jsxs(Ut,{children:[e.jsx(Lt,{children:Ue(a.date).format("DD-MMM-YYYY, hh:mm:ss A")}),e.jsxs(Nt,{style:{marginTop:5},children:[e.jsx(_t,{}),S!==i.length-1&&e.jsx($t,{})]}),e.jsxs(Ft,{children:[a.result.numAdded!==void 0&&a.result.numAdded>0&&e.jsxs(g,{sx:{fontWeight:500},children:["Added: ",a.result.numAdded]}),a.result.numUpdated!==void 0&&a.result.numUpdated>0&&e.jsxs(g,{sx:{fontWeight:500},children:["Updated: ",a.result.numUpdated]}),a.result.numSkipped!==void 0&&a.result.numSkipped>0&&e.jsxs(g,{sx:{fontWeight:500},children:["Skipped: ",a.result.numSkipped]}),a.result.numDeleted!==void 0&&a.result.numDeleted>0&&e.jsxs(g,{sx:{fontWeight:500},children:["Deleted: ",a.result.numDeleted]}),e.jsx(D,{size:"small",sx:{mt:1,mb:3,borderRadius:"25px"},variant:"outlined",onClick:()=>I(a),children:"Details"})]})]},S)),i.length===0&&e.jsxs(Oe,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[e.jsx(g,{sx:{pb:2,height:"auto"},children:e.jsx("img",{style:{objectFit:"cover",height:"10vh",width:"auto"},src:Ht,alt:"HistoryEmptySVG"})}),e.jsx("div",{children:"No Upsert History Yet"})]})]})})]})})};Le.propTypes={show:b.bool,dialogProps:b.object,onClickFunction:b.func,onSelectHistoryDetails:b.func};const Ne=({show:m,dialogProps:p,onCancel:C})=>{const I=document.getElementById("portal"),[v,i]=s.useState({}),u=a=>(S,f)=>{const x={...v};x[a]=f,i(x)},h=m?e.jsxs(Ee,{fullWidth:!0,maxWidth:"md",open:m,onClose:C,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(Ae,{sx:{fontSize:"1rem",p:3,pb:0},id:"alert-dialog-title",children:p.title}),e.jsxs(He,{sx:{display:"flex",flexDirection:"column",gap:2,maxHeight:"75vh",position:"relative",px:3,pb:3},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:5,marginTop:"10px"},children:[e.jsx(N,{title:"Added",stat:p.numAdded??0}),e.jsx(N,{title:"Updated",stat:p.numUpdated??0}),e.jsx(N,{title:"Skipped",stat:p.numSkipped??0}),e.jsx(N,{title:"Deleted",stat:p.numDeleted??0})]}),e.jsx("div",{children:e.jsx(pt,{component:gt,children:e.jsx(mt,{sx:{minWidth:650},"aria-label":"simple table",children:e.jsx(ht,{children:e.jsx(ut,{sx:{"& td":{border:0}},children:e.jsx(ft,{sx:{pb:0,pt:0},colSpan:6,children:e.jsx(g,{sx:{mt:1,mb:2},children:(p.flowData??[]).map((a,S)=>e.jsxs(Bt,{expanded:v[a.id]||!1,onChange:u(a.id),disableGutters:!0,children:[e.jsx(Yt,{expandIcon:e.jsx(Wt,{}),"aria-controls":`nodes-accordian-${a.name}`,id:`nodes-accordian-header-${a.name}`,children:e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[e.jsx("div",{style:{width:40,height:40,marginRight:10,borderRadius:"50%",backgroundColor:"white"},children:e.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:a.name,src:`${O}/api/v1/node-icon/${a.name}`})}),e.jsx(V,{variant:"h5",children:a.label}),e.jsx("div",{style:{display:"flex",flexDirection:"row",width:"max-content",borderRadius:15,background:"rgb(254,252,191)",padding:5,paddingLeft:10,paddingRight:10,marginLeft:10},children:e.jsx("span",{style:{color:"rgb(116,66,16)",fontSize:"0.825rem"},children:a.id})})]})}),e.jsx(zt,{children:a.paramValues[0]&&e.jsx(qt,{sx:{minWidth:150},rows:a.paramValues,columns:Object.keys(a.paramValues[0])})})]},S))})})})})})})})]})]}):null;return Pe.createPortal(h,I)};Ne.propTypes={show:b.bool,dialogProps:b.object,onCancel:b.func};var le={},tr=Te;Object.defineProperty(le,"__esModule",{value:!0});var _e=le.default=void 0,rr=tr(Ve()),ar=e,ir=(0,rr.default)((0,ar.jsx)("path",{d:"M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"}),"Storage");_e=le.default=ir;var de={},sr=Te;Object.defineProperty(de,"__esModule",{value:!0});var $e=de.default=void 0,nr=sr(Ve()),or=e,lr=(0,nr.default)((0,or.jsx)("path",{d:"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm11 10h2V5h-4v2h2v8zm7-14H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"}),"Filter1");$e=de.default=lr;const dr=["Embeddings","Vector Store","Record Manager"],Ca=()=>{var Ce;const m=xt(),p=Me(),{hasAssignedWorkspace:C}=jt();bt();const{error:I,setError:v}=St(),i=Re(t=>t.customization),{storeId:u,docId:h}=vt(),a=(...t)=>p(Dt(...t)),S=(...t)=>p(Ct(...t)),f=M(P.getSpecificDocumentStore),x=M(P.insertIntoVectorStore),R=M(P.saveVectorStoreConfig),k=M(ie.getSpecificNode),E=M(ie.getSpecificNode),A=M(ie.getSpecificNode),[T,d]=s.useState(!0),[j,Fe]=s.useState({}),[F,W]=s.useState({}),[q,B]=s.useState(!1),[o,Y]=s.useState({}),[z,G]=s.useState(!1),[l,Q]=s.useState({}),[J,K]=s.useState(!1),[c,U]=s.useState({}),[X,ce]=s.useState(!1),[pe,ge]=s.useState(!1),[We,qe]=s.useState({}),[me,he]=s.useState(!1),[Be,Ye]=s.useState({}),[ue,fe]=s.useState(!1),[ze,Ge]=s.useState({}),Qe=({inputParam:t,newValue:r})=>{Y(w=>{const n={...w};return n.inputs[t.name]=r,n.inputParams=H(n),n})},Je=({inputParam:t,newValue:r})=>{Q(w=>{const n={...w};return n.inputs[t.name]=r,n.inputParams=H(n),n})},Ke=({inputParam:t,newValue:r})=>{U(w=>{const n={...w};return n.inputs[t.name]=r,n.inputParams=H(n),n})},xe=t=>{const r=te.cloneDeep(re(t,se()));!q&&j.embeddingConfig&&(r.inputs=j.embeddingConfig.config,r.credential=j.embeddingConfig.config.credential),Y(r),B(!1)},je=()=>{W({title:"Select Embeddings Provider"}),B(!0)},be=t=>{const r=te.cloneDeep(re(t,se()));r.inputAnchors.find(w=>w.name==="recordManager")?ce(!1):(ce(!0),U({})),!z&&j.vectorStoreConfig&&(r.inputs=j.vectorStoreConfig.config,r.credential=j.vectorStoreConfig.config.credential),Q(r),G(!1)},Se=()=>{W({title:"Select a Vector Store Provider"}),G(!0)},ve=t=>{const r=te.cloneDeep(re(t,se()));!J&&j.recordManagerConfig&&(r.inputs=j.recordManagerConfig.config,r.credential=j.recordManagerConfig.config.credential),U(r),K(!1)},ye=()=>{W({title:"Select a Record Manager"}),K(!0)},Xe=()=>{Ye({id:u}),he(!0)},Ze=t=>{const r={title:Ue(t.date).format("DD-MMM-YYYY, hh:mm:ss A"),numAdded:t.result.numAdded,numUpdated:t.result.numUpdated,numSkipped:t.result.numSkipped,numDeleted:t.result.numDeleted,flowData:t.flowData};Ge(r),fe(!0)},et=()=>{let t=!0;const r=((l==null?void 0:l.inputParams)??[]).filter(n=>!n.hidden);for(const n of r)if(!n.optional&&(!l.inputs[n.name]||!l.credential)){if(n.type==="credential"&&!l.credential){t=!1;break}else if(n.type!=="credential"&&!l.inputs[n.name]){t=!1;break}}const w=((o==null?void 0:o.inputParams)??[]).filter(n=>!n.hidden);for(const n of w)if(!n.optional&&(!o.inputs[n.name]||!o.credential)){if(n.type==="credential"&&!o.credential){t=!1;break}else if(n.type!=="credential"&&!o.inputs[n.name]){t=!1;break}}return t||a({message:"Please fill in all mandatory fields.",options:{key:new Date().getTime()+Math.random(),variant:"warning",action:n=>e.jsx(D,{style:{color:"white"},onClick:()=>S(n),children:e.jsx(oe,{})})}}),t},De=()=>{const t={storeId:u,docId:h};return o.inputs?(t.embeddingConfig={},t.embeddingName=o.name,Object.keys(o.inputs).map(r=>{r==="FLOWISE_CREDENTIAL_ID"?t.embeddingConfig.credential=o.inputs[r]:t.embeddingConfig[r]=o.inputs[r]})):(t.embeddingConfig=null,t.embeddingName=""),l.inputs?(t.vectorStoreConfig={},t.vectorStoreName=l.name,Object.keys(l.inputs).map(r=>{r==="FLOWISE_CREDENTIAL_ID"?t.vectorStoreConfig.credential=l.inputs[r]:t.vectorStoreConfig[r]=l.inputs[r]})):(t.vectorStoreConfig=null,t.vectorStoreName=""),c.inputs?(t.recordManagerConfig={},t.recordManagerName=c.name,Object.keys(c.inputs).map(r=>{r==="FLOWISE_CREDENTIAL_ID"?t.recordManagerConfig.credential=c.inputs[r]:t.recordManagerConfig[r]=c.inputs[r]})):(t.recordManagerConfig=null,t.recordManagerName=""),t},tt=()=>{if(et()){d(!0);const t=De();x.request(t)}},rt=()=>{d(!0);const t=De();R.request(t)},at=()=>{Y({}),Q({}),U({})},it=()=>c&&Object.keys(c).length>0?3:l&&Object.keys(l).length>0?2:o&&Object.keys(o).length>0?1:0,st=()=>e.jsx(g,{sx:{width:"100%"},children:e.jsx(Kt,{activeStep:it(),alternativeLabel:!0,children:dr.map(t=>e.jsx(Xt,{children:e.jsx(Zt,{children:t})},t))})}),Z=()=>Object.keys(l).length===0||X,ee=()=>Object.keys(o).length===0;return s.useEffect(()=>{R.data&&(d(!1),a({message:"Configuration saved successfully",options:{key:new Date().getTime()+Math.random(),variant:"success",action:t=>e.jsx(D,{style:{color:"white"},onClick:()=>S(t),children:e.jsx(oe,{})})}}))},[R.data]),s.useEffect(()=>{x.data&&(d(!1),ge(!0),qe({...x.data,goToRetrievalQuery:!0}))},[x.data]),s.useEffect(()=>{x.error&&(d(!1),v(x.error))},[x.error]),s.useEffect(()=>{R.error&&(d(!1),v(R.error))},[R.error]),s.useEffect(()=>{f.request(u)},[]),s.useEffect(()=>{if(f.data){const t=f.data;if(!C(t.workspaceId)){m("/unauthorized");return}Fe(t),t.embeddingConfig&&k.request(t.embeddingConfig.name),t.vectorStoreConfig&&E.request(t.vectorStoreConfig.name),t.recordManagerConfig&&A.request(t.recordManagerConfig.name),d(!1)}},[f.data]),s.useEffect(()=>{if(k.data){const t=k.data;xe(t)}},[k.data]),s.useEffect(()=>{if(E.data){const t=E.data;be(t)}},[E.data]),s.useEffect(()=>{if(A.data){const t=A.data;ve(t)}},[A.data]),s.useEffect(()=>{f.error&&v(f.error)},[f.error]),e.jsxs(e.Fragment,{children:[e.jsx(yt,{children:I?e.jsx(Mt,{error:I}):e.jsxs(e.Fragment,{children:[!u&&e.jsx("div",{}),u&&e.jsxs(Oe,{flexDirection:"column",sx:{gap:3},children:[e.jsxs(It,{isBackButton:!0,search:!1,title:(Ce=f.data)==null?void 0:Ce.name,description:"Configure Embeddings, Vector Store and Record Manager",onBack:()=>m(-1),children:[(Object.keys(o).length>0||Object.keys(l).length>0)&&e.jsx(D,{variant:"outlined",color:"error",sx:{borderRadius:2,height:"100%"},startIcon:e.jsx(Gt,{}),onClick:()=>at(),children:"Reset"}),(Object.keys(o).length>0||Object.keys(l).length>0)&&e.jsx(D,{variant:"outlined",color:"secondary",sx:{borderRadius:2,height:"100%"},startIcon:e.jsx(Qt,{}),onClick:()=>rt(),children:"Save Config"}),Object.keys(o).length>0&&Object.keys(l).length>0&&e.jsx(D,{variant:"contained",sx:{borderRadius:2,height:"100%",backgroundImage:"linear-gradient(to right, #13547a, #2f9e91)","&:hover":{backgroundImage:"linear-gradient(to right, #0b3d5b, #1a8377)"}},startIcon:e.jsx(er,{}),onClick:()=>tt(),children:"Upsert"}),e.jsx(L,{onClick:Xe,size:"small",color:"inherit",title:"Upsert History",children:e.jsx(Jt,{})})]}),e.jsx(st,{}),e.jsxs(y,{container:!0,spacing:1,children:[e.jsx(y,{item:!0,xs:12,sm:4,md:4,children:Object.keys(o).length===0?e.jsx(D,{onClick:je,fullWidth:!0,startIcon:e.jsx(_,{style:{background:"transparent",height:32,width:32}}),sx:{color:i!=null&&i.isDarkMode?"white":"inherit",borderRadius:"10px",minHeight:"200px",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 20%)",backgroundImage:i!=null&&i.isDarkMode?"linear-gradient(to right, #e654bc, #4b86e7)":"linear-gradient(to right, #fadef2, #cfdcf1)","&:hover":{backgroundImage:i!=null&&i.isDarkMode?"linear-gradient(to right, #de32ac, #2d73e7)":"linear-gradient(to right, #f6c2e7, #b4cbf1)"}},children:"Select Embeddings"}):e.jsx(g,{children:e.jsx(y,{container:!0,spacing:"2",children:e.jsx(y,{item:!0,xs:12,md:12,lg:12,sm:12,children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",paddingRight:15},children:[e.jsxs(g,{sx:{display:"flex",alignItems:"center",flexDirection:"row",p:1},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white",display:"flex",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 25%)"},children:o.label?e.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:o.label??"embeddings",src:`${O}/api/v1/node-icon/${o==null?void 0:o.name}`}):e.jsx(_,{color:"black"})}),e.jsx(V,{sx:{ml:2},variant:"h3",children:o.label}),e.jsx("div",{style:{flex:1}}),e.jsx("div",{style:{display:"flex",alignContent:"center",flexDirection:"row"},children:Object.keys(o).length>0&&e.jsx(e.Fragment,{children:e.jsx(L,{variant:"outlined",sx:{ml:1},color:"secondary",onClick:je,children:e.jsx(ne,{})})})})]}),o&&Object.keys(o).length>0&&H(o).filter(t=>!t.hidden&&t.display!==!1).map((t,r)=>e.jsx(ae,{data:o,inputParam:t,isAdditionalParams:t.additionalParams,onNodeDataChange:Qe},r))]})})})})}),e.jsx(y,{item:!0,xs:12,sm:4,md:4,children:Object.keys(l).length===0?e.jsx(D,{onClick:Se,fullWidth:!0,startIcon:e.jsx(_e,{style:{background:"transparent",height:32,width:32}}),sx:{color:i!=null&&i.isDarkMode?"white":"inherit",borderRadius:"10px",minHeight:"200px",opacity:ee()?.7:1,boxShadow:ee()?"none":"0 2px 14px 0 rgb(32 40 45 / 20%)",backgroundImage:i!=null&&i.isDarkMode?"linear-gradient(to right, #4d8ef1, #f1de5c)":"linear-gradient(to right, #b9d0f4, #fef9d7)","&:hover":{backgroundImage:i!=null&&i.isDarkMode?"linear-gradient(to right, #2576f2, #f0d72e)":"linear-gradient(to right, #9cbdf2, #fcf3b6)"}},disabled:ee(),children:"Select Vector Store"}):e.jsx(g,{children:e.jsx(y,{container:!0,spacing:"2",children:e.jsx(y,{item:!0,xs:12,md:12,lg:12,sm:12,children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",paddingRight:15},children:[e.jsxs(g,{sx:{display:"flex",alignItems:"center",flexDirection:"row",p:1},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 25%)"},children:l.label?e.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:l.label??"embeddings",src:`${O}/api/v1/node-icon/${l==null?void 0:l.name}`}):e.jsx(_,{color:"black"})}),e.jsx(V,{sx:{ml:2},variant:"h3",children:l.label}),e.jsx("div",{style:{flex:1}}),e.jsx("div",{style:{display:"flex",alignContent:"center",flexDirection:"row"},children:Object.keys(l).length>0&&e.jsx(e.Fragment,{children:e.jsx(L,{variant:"outlined",sx:{ml:1},color:"secondary",onClick:Se,children:e.jsx(ne,{})})})})]}),l&&Object.keys(l).length>0&&H(l).filter(t=>!t.hidden&&t.display!==!1).map((t,r)=>e.jsx(ae,{data:l,inputParam:t,isAdditionalParams:t.additionalParams,onNodeDataChange:Je},r))]})})})})}),e.jsx(y,{item:!0,xs:12,sm:4,md:4,children:Object.keys(c).length===0?e.jsx(D,{onClick:ye,fullWidth:!0,startIcon:X?e.jsx(e.Fragment,{}):e.jsx($e,{style:{background:"transparent",height:32,width:32}}),sx:{color:i!=null&&i.isDarkMode?"white":"inherit",borderRadius:"10px",minHeight:"200px",opacity:Z()?.7:1,boxShadow:Z()?"none":"0 2px 14px 0 rgb(32 40 45 / 20%)",backgroundImage:i!=null&&i.isDarkMode?"linear-gradient(to right, #f5db3f, #42daa7)":"linear-gradient(to right, #f9f1c0, #c7f1e3)","&:hover":{backgroundImage:i!=null&&i.isDarkMode?"linear-gradient(to right, #d9c238, #3dc295)":"linear-gradient(to right, #f6e99b, #a0f2d7)"}},disabled:Z(),children:X?"Record Manager is not applicable for selected Vector Store":"Select Record Manager"}):e.jsx(g,{children:e.jsx(y,{container:!0,spacing:"2",children:e.jsx(y,{item:!0,xs:12,md:12,lg:12,sm:12,children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",paddingRight:15},children:[e.jsxs(g,{sx:{display:"flex",alignItems:"center",flexDirection:"row",p:1},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 25%)"},children:c.label?e.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:c.label??"embeddings",src:`${O}/api/v1/node-icon/${c==null?void 0:c.name}`}):e.jsx(_,{color:"black"})}),e.jsx(V,{sx:{ml:2},variant:"h3",children:c.label}),e.jsx("div",{style:{flex:1}}),e.jsx("div",{style:{display:"flex",alignContent:"center",flexDirection:"row"},children:Object.keys(c).length>0&&e.jsx(e.Fragment,{children:e.jsx(L,{variant:"outlined",sx:{ml:1},color:"secondary",onClick:ye,children:e.jsx(ne,{})})})})]}),c&&Object.keys(c).length>0&&H(c).filter(t=>!t.hidden&&t.display!==!1).map((t,r)=>e.jsx(ae,{data:c,inputParam:t,isAdditionalParams:t.additionalParams,onNodeDataChange:Ke},r))]})})})})})]})]})]})}),q&&e.jsx($,{show:q,dialogProps:F,onCancel:()=>B(!1),apiCall:P.getEmbeddingProviders,onSelected:xe}),z&&e.jsx($,{show:z,dialogProps:F,onCancel:()=>G(!1),apiCall:P.getVectorStoreProviders,onSelected:be}),J&&e.jsx($,{show:J,dialogProps:F,onCancel:()=>K(!1),apiCall:P.getRecordManagerProviders,onSelected:ve}),pe&&e.jsx(Et,{show:pe,dialogProps:We,onCancel:()=>{ge(!1)},onGoToRetrievalQuery:()=>m("/document-stores/query/"+u)}),me&&e.jsx(Le,{show:me,dialogProps:Be,onClickFunction:()=>he(!1),onSelectHistoryDetails:Ze}),ue&&e.jsx(Ne,{show:ue,dialogProps:ze,onCancel:()=>fe(!1)}),e.jsx(kt,{}),T&&e.jsx(Rt,{open:T})]})};export{Ca as default};

import{t as _e,L as wt,N as Ue,O as Ke,P as x,a as Qe,R as Tt,j as t,U as kt,V as St,W as vt,X as Dt,Y as It,l as z,n as $,S as A,C as ne,$ as We,u as Ft,o as At,p as Bt,b as Lt,r as i,c as Oe,Q as Pt,A as ze,d as Ve,M as Et,a0 as ce,a1 as de,a2 as pe,a3 as V,a4 as me,T as $e,I as Mt,a5 as qe,a6 as Ge,a7 as Je,E as se,B as k,g as re,J as Nt,K as Rt}from"./index-B1XR3Coy.js";import{I as S}from"./ItemCard-DFH1pXJi.js";import{W as He}from"./workflow_empty-BmvH5JwJ.js";import{T as Ut}from"./ToolDialog-hiXiaWJY.js";import{S as p}from"./Skeleton-BQAmmov-.js";import{I as Wt}from"./IconShare-DiLHmK0B.js";import{I as Ot}from"./IconTrash-BvhWIQ6v.js";import{V as zt}from"./ViewHeader-jo2V0q71.js";import{E as Vt}from"./ErrorBoundary-WOMkE_83.js";import{T as Xe}from"./TabPanel-C2EL9Kp7.js";import{u as $t,C as qt}from"./ConfirmDialog-Bksga_et.js";import{S as Gt}from"./ShareWithWorkspaceDialog-C6kxG_F7.js";import{m as he}from"./ExportAsTemplateDialog-CN3tapJC.js";import{F as xe}from"./FormControl-Cb0ROeST.js";import{I as ue}from"./InputLabel-HPVYUEFn.js";import{T as Jt}from"./ToggleButtonGroup-D1WH89Fe.js";import{I as Ht}from"./IconLayoutGrid-DAeG3wjO.js";import{T as Xt}from"./Tabs-DwCJa_eq.js";import{B as Ye}from"./Grid-DtMOPoeK.js";import"./Tooltip-9ICsuaYn.js";import"./TooltipWithParser-C72LCUcD.js";import"./index-D--Rb2MU.js";import"./Delete-CvnCkEIf.js";import"./CodeEditor-BjDzi2Vy.js";import"./index-DhL3T6x0.js";import"./GridActionsCellItem-C4fgcfe6.js";import"./IconPlus-DpyX5kZB.js";import"./StyledFab-BqTal21_.js";import"./IconSearch-BzBgax5m.js";import"./IconCopy-BBl1XuSo.js";import"./KeyboardArrowRight-KQTKBFVE.js";import"./toPropertyKey-hKuLU48H.js";import"./Autocomplete-2B99MXTa.js";import"./Close-CA_iFeNy.js";import"./createStyled-BzRwilhm.js";import"./TextField-BEeUeVUl.js";import"./InputAdornment-D6_duzKN.js";import"./LastPage-CMvObEkB.js";const o=_e(wt)(({theme:j})=>({borderColor:j.palette.grey[900]+25,[`&.${Ue.head}`]:{color:j.palette.grey[900]},[`&.${Ue.body}`]:{fontSize:14,height:64}})),ge=_e(Ke)(()=>({"&:last-child td, &:last-child th":{border:0}})),je=({data:j,filterFunction:q,filterByBadge:n,filterByType:G,filterByFramework:y,filterByUsecases:C,goToCanvas:J,goToTool:H,isLoading:ae,onDelete:N,onShare:X})=>{const R=Qe(),ie=Tt(l=>l.customization),w=l=>{l.flowData?J(l):H(l)};return t.jsx(t.Fragment,{children:t.jsx(kt,{sx:{border:1,borderColor:R.palette.grey[900]+25,borderRadius:2},component:St,children:t.jsxs(vt,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[t.jsx(Dt,{sx:{backgroundColor:ie.isDarkMode?R.palette.common.black:R.palette.grey[100],height:56},children:t.jsxs(Ke,{children:[t.jsx(o,{sx:{minWidth:"150px"},component:"th",scope:"row",children:"Name"},"0"),t.jsx(o,{sx:{minWidth:"100px"},component:"th",scope:"row",children:"Type"},"1"),t.jsx(o,{children:"Description"},"2"),t.jsx(o,{sx:{minWidth:"100px"},children:"Framework"},"3"),t.jsx(o,{sx:{minWidth:"100px"},children:"Use cases"},"4"),t.jsx(o,{children:"Badges"},"5"),t.jsx(o,{component:"th",scope:"row"},"6")]})}),t.jsx(It,{children:ae?t.jsxs(t.Fragment,{children:[t.jsxs(ge,{children:[t.jsx(o,{children:t.jsx(p,{variant:"text"})}),t.jsx(o,{children:t.jsx(p,{variant:"text"})}),t.jsx(o,{children:t.jsx(p,{variant:"text"})}),t.jsx(o,{children:t.jsx(p,{variant:"text"})}),t.jsx(o,{children:t.jsx(p,{variant:"text"})}),t.jsx(o,{children:t.jsx(p,{variant:"text"})}),t.jsx(o,{children:t.jsx(p,{variant:"text"})})]}),t.jsxs(ge,{children:[t.jsx(o,{children:t.jsx(p,{variant:"text"})}),t.jsx(o,{children:t.jsx(p,{variant:"text"})}),t.jsx(o,{children:t.jsx(p,{variant:"text"})}),t.jsx(o,{children:t.jsx(p,{variant:"text"})}),t.jsx(o,{children:t.jsx(p,{variant:"text"})}),t.jsx(o,{children:t.jsx(p,{variant:"text"})}),t.jsx(o,{children:t.jsx(p,{variant:"text"})})]})]}):t.jsx(t.Fragment,{children:j==null?void 0:j.filter(n).filter(G).filter(q).filter(y).filter(C).map((l,T)=>t.jsxs(ge,{children:[t.jsx(o,{children:t.jsx(z,{sx:{display:"-webkit-box",fontSize:14,fontWeight:500,WebkitLineClamp:2,WebkitBoxOrient:"vertical",textOverflow:"ellipsis",overflow:"hidden"},children:t.jsx($,{onClick:()=>w(l),sx:{textAlign:"left"},children:l.templateName||l.name})})},"0"),t.jsx(o,{children:t.jsx(z,{children:l.type})},"1"),t.jsx(o,{children:t.jsx(z,{sx:{overflowWrap:"break-word",whiteSpace:"pre-line"},children:l.description||""})},"2"),t.jsx(o,{children:t.jsx(A,{flexDirection:"row",sx:{gap:1,flexWrap:"wrap"},children:l.framework&&l.framework.length>0&&l.framework.map((u,v)=>t.jsx(ne,{variant:"outlined",size:"small",label:u,style:{marginRight:3,marginBottom:3}},v))})},"3"),t.jsx(o,{children:t.jsx(A,{flexDirection:"row",sx:{gap:1,flexWrap:"wrap"},children:l.usecases&&l.usecases.length>0&&l.usecases.map((u,v)=>t.jsx(ne,{variant:"outlined",size:"small",label:u,style:{marginRight:3,marginBottom:3}},v))})},"4"),t.jsx(o,{children:t.jsx(z,{children:l.badge&&l.badge.split(";").map((u,v)=>t.jsx(ne,{color:u==="POPULAR"?"primary":u==="DEPRECATED"?"warning":"error",size:"small",label:u.toUpperCase(),style:{marginRight:5,marginBottom:5}},v))})},"5"),t.jsx(o,{colSpan:l.shared?2:void 0,children:l.shared?t.jsx(z,{children:"Shared Template"}):t.jsxs(t.Fragment,{children:[X&&t.jsx(We,{display:"feat:workspaces",permissionId:"templates:custom-share",title:"Share",color:"primary",onClick:()=>X(l),children:t.jsx(Wt,{})}),N&&t.jsx(We,{permissionId:"templates:custom-delete",title:"Delete",color:"error",onClick:()=>N(l),children:t.jsx(Ot,{})})]})},"6")]},T))})})]})})})};je.propTypes={data:x.array,filterFunction:x.func,filterByBadge:x.func,filterByType:x.func,filterByFramework:x.func,filterByUsecases:x.func,goToTool:x.func,goToCanvas:x.func,isLoading:x.bool,onDelete:x.func,onShare:x.func};const Yt=["POPULAR","NEW"],_t=["Chatflow","AgentflowV2","Tool"],Kt=["Langchain","LlamaIndex"],fe={PaperProps:{style:{width:160}}},Ns=()=>{var Be,Le,Pe,Ee,Me,Ne,Re;const j=Ft(),q=At();Bt();const n=Qe(),{error:G,setError:y}=Lt(),[C,J]=i.useState(!0),[H,ae]=i.useState({}),[N,X]=i.useState({}),[R,ie]=i.useState([]),[w,l]=i.useState([]),[T,u]=i.useState([]),[v,Y]=i.useState(!1),[Ze,ye]=i.useState({}),m=Oe(he.getAllTemplatesFromMarketplaces),[U,et]=i.useState(localStorage.getItem("mpDisplayStyle")||"card"),[B,tt]=i.useState(""),[D,st]=i.useState([]),[I,rt]=i.useState([]),[F,at]=i.useState([]),c=Oe(he.getAllCustomTemplates),[g,be]=i.useState(0),[Ce,it]=i.useState({}),[we,ot]=i.useState({}),[lt,nt]=i.useState([]),[Te,ke]=i.useState([]),[L,Se]=i.useState([]),ve=(...e)=>q(Nt(...e)),De=(...e)=>q(Rt(...e)),{confirm:ct}=$t(),{hasPermission:P}=Pt(),[Ie,Fe]=i.useState(!1),[dt,pt]=i.useState({}),mt=e=>{const s={type:"EDIT",cancelButtonName:"Cancel",confirmButtonName:"Share",data:{id:e.id,name:e.name,title:"Share Custom Template",itemType:"custom_template"}};pt(s),Fe(!0)},oe=(e,s)=>({"& .MuiOutlinedInput-notchedOutline":{borderRadius:2,borderColor:e},"& .MuiSvgIcon-root":{color:s?"#fff":"inherit"}}),ht=(e,s)=>{s===1&&!c.data&&c.request(),be(s)},Ae=()=>{g===0?u([]):Se([])},xt=e=>{const{target:{value:s}}=e;st(typeof s=="string"?s.split(","):s);const a=g===0?m.data:c.data;te(a,{typeFilter:I,badgeFilter:typeof s=="string"?s.split(","):s,frameworkFilter:F,search:B})},ut=e=>{const{target:{value:s}}=e;rt(typeof s=="string"?s.split(","):s);const a=g===0?m.data:c.data;te(a,{typeFilter:typeof s=="string"?s.split(","):s,badgeFilter:D,frameworkFilter:F,search:B})},gt=e=>{const{target:{value:s}}=e;at(typeof s=="string"?s.split(","):s);const a=g===0?m.data:c.data;te(a,{typeFilter:I,badgeFilter:D,frameworkFilter:typeof s=="string"?s.split(","):s,search:B})},ft=(e,s)=>{s!==null&&(localStorage.setItem("mpDisplayStyle",s),et(s))},jt=e=>{tt(e.target.value);const s=g===0?m.data:c.data;te(s,{typeFilter:I,badgeFilter:D,frameworkFilter:F,search:e.target.value})},yt=async e=>{const s={title:"Delete",description:`Delete Custom Template ${e.name}?`,confirmButtonName:"Delete",cancelButtonName:"Cancel"};if(await ct(s))try{(await he.deleteCustomTemplate(e.id)).data&&(ve({message:"Custom Template deleted successfully!",options:{key:new Date().getTime()+Math.random(),variant:"success",action:r=>t.jsx($,{style:{color:"white"},onClick:()=>De(r),children:t.jsx(se,{})})}}),c.request())}catch(d){ve({message:`Failed to delete custom template: ${typeof d.response.data=="object"?d.response.data.message:d.response.data}`,options:{key:new Date().getTime()+Math.random(),variant:"error",persist:!0,action:r=>t.jsx($,{style:{color:"white"},onClick:()=>De(r),children:t.jsx(se,{})})}})}};function _(e){return(e.categories?e.categories.join(","):"").toLowerCase().indexOf(B.toLowerCase())>-1||e.templateName.toLowerCase().indexOf(B.toLowerCase())>-1||e.description&&e.description.toLowerCase().indexOf(B.toLowerCase())>-1}function K(e){return D.length>0?D.includes(e.badge):!0}function Q(e){return I.length>0?I.includes(e.type):!0}function Z(e){return F.length>0?(e.framework||[]).some(s=>F.includes(s)):!0}function ee(e){return g===0?T.length>0?(e.usecases||[]).some(s=>T.includes(s)):!0:L.length>0?(e.usecases||[]).some(s=>L.includes(s)):!0}const te=(e,s)=>{if(!e)return;let a=e;s.badgeFilter.length>0&&(a=a.filter(r=>s.badgeFilter.includes(r.badge))),s.typeFilter.length>0&&(a=a.filter(r=>s.typeFilter.includes(r.type))),s.frameworkFilter.length>0&&(a=a.filter(r=>(r.framework||[]).some(W=>s.frameworkFilter.includes(W)))),s.search&&(a=a.filter(r=>(r.categories?r.categories.join(","):"").toLowerCase().indexOf(s.search.toLowerCase())>-1||r.templateName.toLowerCase().indexOf(s.search.toLowerCase())>-1||r.description&&r.description.toLowerCase().indexOf(s.search.toLowerCase())>-1));const d=[];for(let r=0;r<a.length;r+=1)a[r].flowData&&d.push(...a[r].usecases);g===0?l(Array.from(new Set(d)).sort()):ke(Array.from(new Set(d)).sort())},bt=e=>{ye({title:"Add New Tool",type:"IMPORT",cancelButtonName:"Cancel",confirmButtonName:"Add",data:e}),Y(!0)},E=e=>{const s={title:e.templateName,type:"TEMPLATE",data:e};ye(s),Y(!0)},M=e=>{e.type==="AgentflowV2"?j(`/v2/marketplace/${e.id}`,{state:e}):j(`/marketplace/${e.id}`,{state:e})};return i.useEffect(()=>{P("templates:marketplace")?m.request():P("templates:custom")&&(be(1),c.request())},[]),i.useEffect(()=>{J(m.loading)},[m.loading]),i.useEffect(()=>{if(m.data)try{const e=m.data,s=[],a={},d={};for(let r=0;r<e.length;r+=1)if(e[r].flowData){const W=e[r].flowData,le=JSON.parse(W);s.push(...e[r].usecases);const f=le.nodes||[];a[e[r].id]=[],d[e[r].id]=[];for(let h=0;h<f.length;h+=1){if(f[h].data.name==="stickyNote"||f[h].data.name==="stickyNoteAgentflow")continue;const O=ze.find(b=>b.name===f[h].data.name);if(O)d[e[r].id].push(O);else{const b=`${Ve}/api/v1/node-icon/${f[h].data.name}`;a[e[r].id].some(Ct=>Ct.imageSrc===b)||a[e[r].id].push({imageSrc:b,label:f[h].data.name})}}}ae(a),X(d),ie(Array.from(new Set(s)).sort()),l(Array.from(new Set(s)).sort())}catch(e){console.error(e)}},[m.data]),i.useEffect(()=>{m.error&&y&&y(m.error)},[m.error]),i.useEffect(()=>{J(c.loading)},[c.loading]),i.useEffect(()=>{if(c.data)try{const e=c.data,s=[],a={},d={};for(let r=0;r<e.length;r+=1)if(e[r].flowData){const W=e[r].flowData,le=JSON.parse(W);s.push(...e[r].usecases),e[r].framework&&(e[r].framework=[e[r].framework]);const f=le.nodes||[];a[e[r].id]=[],d[e[r].id]=[];for(let h=0;h<f.length;h+=1){const O=ze.find(b=>b.name===f[h].data.name);if(O)d[e[r].id].push(O);else{const b=`${Ve}/api/v1/node-icon/${f[h].data.name}`;a[e[r].id].includes(b)||a[e[r].id].push(b)}}}it(a),ot(d),nt(Array.from(new Set(s)).sort()),ke(Array.from(new Set(s)).sort())}catch(e){console.error(e)}},[c.data]),i.useEffect(()=>{c.error&&y&&y(c.error)},[c.error]),t.jsxs(t.Fragment,{children:[t.jsx(Et,{children:G?t.jsx(Vt,{error:G}):t.jsxs(A,{flexDirection:"column",children:[t.jsx(zt,{filters:t.jsxs(t.Fragment,{children:[t.jsxs(xe,{sx:{borderRadius:2,display:"flex",flexDirection:"column",justifyContent:"end",minWidth:120},children:[t.jsx(ue,{size:"small",id:"filter-badge-label",children:"Tag"}),t.jsx(ce,{labelId:"filter-badge-label",id:"filter-badge-checkbox",size:"small",multiple:!0,value:D,onChange:xt,input:t.jsx(de,{label:"Tag"}),renderValue:e=>e.join(", "),MenuProps:fe,sx:oe(n.palette.grey[900]+25,(Be=n==null?void 0:n.customization)==null?void 0:Be.isDarkMode),children:Yt.map(e=>t.jsxs(pe,{value:e,sx:{display:"flex",alignItems:"center",gap:1,p:1},children:[t.jsx(V,{checked:D.indexOf(e)>-1,sx:{p:0}}),t.jsx(me,{primary:e})]},e))})]}),t.jsxs(xe,{sx:{borderRadius:2,display:"flex",flexDirection:"column",justifyContent:"end",minWidth:120},children:[t.jsx(ue,{size:"small",id:"type-badge-label",children:"Type"}),t.jsx(ce,{size:"small",labelId:"type-badge-label",id:"type-badge-checkbox",multiple:!0,value:I,onChange:ut,input:t.jsx(de,{label:"Type"}),renderValue:e=>e.join(", "),MenuProps:fe,sx:oe(n.palette.grey[900]+25,(Le=n==null?void 0:n.customization)==null?void 0:Le.isDarkMode),children:_t.map(e=>t.jsxs(pe,{value:e,sx:{display:"flex",alignItems:"center",gap:1,p:1},children:[t.jsx(V,{checked:I.indexOf(e)>-1,sx:{p:0}}),t.jsx(me,{primary:e})]},e))})]}),t.jsxs(xe,{sx:{borderRadius:2,display:"flex",flexDirection:"column",justifyContent:"end",minWidth:120},children:[t.jsx(ue,{size:"small",id:"type-fw-label",children:"Framework"}),t.jsx(ce,{size:"small",labelId:"type-fw-label",id:"type-fw-checkbox",multiple:!0,value:F,onChange:gt,input:t.jsx(de,{label:"Framework"}),renderValue:e=>e.join(", "),MenuProps:fe,sx:oe(n.palette.grey[900]+25,(Pe=n==null?void 0:n.customization)==null?void 0:Pe.isDarkMode),children:Kt.map(e=>t.jsxs(pe,{value:e,sx:{display:"flex",alignItems:"center",gap:1,p:1},children:[t.jsx(V,{checked:F.indexOf(e)>-1,sx:{p:0}}),t.jsx(me,{primary:e})]},e))})]})]}),onSearchChange:jt,search:!0,searchPlaceholder:"Search Name/Description/Node",title:"Marketplace",description:"Explore and use pre-built templates",children:t.jsxs(Jt,{sx:{borderRadius:2,height:"100%"},value:U,color:"primary",exclusive:!0,onChange:ft,children:[t.jsx($e,{sx:{borderColor:n.palette.grey[900]+25,borderRadius:2,color:(Ee=n==null?void 0:n.customization)!=null&&Ee.isDarkMode?"white":"inherit"},variant:"contained",value:"card",title:"Card View",children:t.jsx(Ht,{})}),t.jsx($e,{sx:{borderColor:n.palette.grey[900]+25,borderRadius:2,color:(Me=n==null?void 0:n.customization)!=null&&Me.isDarkMode?"white":"inherit"},variant:"contained",value:"list",title:"List View",children:t.jsx(Mt,{})})]})}),P("templates:marketplace")&&P("templates:custom")&&t.jsxs(Xt,{value:g,onChange:ht,textColor:"primary","aria-label":"tabs",centered:!0,children:[t.jsx(qe,{permissionId:"templates:marketplace",value:0,label:"Community Templates"}),t.jsx(qe,{permissionId:"templates:custom",value:1,label:"My Templates"})]}),t.jsx(Ge,{permission:"templates:marketplace",children:t.jsxs(Xe,{value:g,index:0,children:[t.jsx(A,{direction:"row",sx:{gap:2,my:2,alignItems:"center",flexWrap:"wrap"},children:R.map((e,s)=>t.jsx(Je,{size:"small",control:t.jsx(V,{disabled:w.length===0?!0:!w.includes(e),color:"success",checked:T.includes(e),onChange:a=>{u(a.target.checked?[...T,e]:T.filter(d=>d!==e))},sx:{"& .MuiSvgIcon-root":{color:w.length===0||!w.includes(e)?"#888 !important":void 0}}}),label:e,sx:{"& .MuiFormControlLabel-label":{color:w.length===0||!w.includes(e)?"#888 !important":void 0}}},s))}),T.length>0&&t.jsx($,{sx:{width:"max-content",mb:2,borderRadius:"20px"},variant:"outlined",onClick:()=>Ae(),startIcon:t.jsx(se,{}),children:"Clear All"}),!U||U==="card"?t.jsx(t.Fragment,{children:C?t.jsxs(k,{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:re,children:[t.jsx(p,{variant:"rounded",height:160}),t.jsx(p,{variant:"rounded",height:160}),t.jsx(p,{variant:"rounded",height:160})]}):t.jsx(k,{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:re,children:(Ne=m.data)==null?void 0:Ne.filter(K).filter(Q).filter(_).filter(Z).filter(ee).map((e,s)=>t.jsxs(k,{children:[e.badge&&t.jsxs(Ye,{sx:{width:"100%",height:"100%","& .MuiBadge-badge":{right:20}},badgeContent:e.badge,color:e.badge==="POPULAR"?"primary":"error",children:[(e.type==="Chatflow"||e.type==="Agentflow"||e.type==="AgentflowV2")&&t.jsx(S,{onClick:()=>M(e),data:e,images:H[e.id],icons:N[e.id]}),e.type==="Tool"&&t.jsx(S,{data:e,onClick:()=>E(e)})]}),!e.badge&&(e.type==="Chatflow"||e.type==="Agentflow"||e.type==="AgentflowV2")&&t.jsx(S,{onClick:()=>M(e),data:e,images:H[e.id],icons:N[e.id]}),!e.badge&&e.type==="Tool"&&t.jsx(S,{data:e,onClick:()=>E(e)})]},s))})}):t.jsx(je,{data:m.data,filterFunction:_,filterByType:Q,filterByBadge:K,filterByFramework:Z,filterByUsecases:ee,goToTool:E,goToCanvas:M,isLoading:C,setError:y}),!C&&(!m.data||m.data.length===0)&&t.jsxs(A,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[t.jsx(k,{sx:{p:2,height:"auto"},children:t.jsx("img",{style:{objectFit:"cover",height:"25vh",width:"auto"},src:He,alt:"WorkflowEmptySVG"})}),t.jsx("div",{children:"No Marketplace Yet"})]})]})}),t.jsx(Ge,{permission:"templates:custom",children:t.jsxs(Xe,{value:g,index:1,children:[t.jsx(A,{direction:"row",sx:{gap:2,my:2,alignItems:"center",flexWrap:"wrap"},children:lt.map((e,s)=>t.jsx(Je,{size:"small",control:t.jsx(V,{disabled:Te.length===0?!0:!Te.includes(e),color:"success",checked:L.includes(e),onChange:a=>{Se(a.target.checked?[...L,e]:L.filter(d=>d!==e))}}),label:e},s))}),L.length>0&&t.jsx($,{sx:{width:"max-content",mb:2,borderRadius:"20px"},variant:"outlined",onClick:()=>Ae(),startIcon:t.jsx(se,{}),children:"Clear All"}),!U||U==="card"?t.jsx(t.Fragment,{children:C?t.jsxs(k,{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:re,children:[t.jsx(p,{variant:"rounded",height:160}),t.jsx(p,{variant:"rounded",height:160}),t.jsx(p,{variant:"rounded",height:160})]}):t.jsx(k,{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:re,children:(Re=c.data)==null?void 0:Re.filter(K).filter(Q).filter(_).filter(Z).filter(ee).map((e,s)=>t.jsxs(k,{children:[e.badge&&t.jsxs(Ye,{sx:{width:"100%",height:"100%","& .MuiBadge-badge":{right:20}},badgeContent:e.badge,color:e.badge==="POPULAR"?"primary":"error",children:[(e.type==="Chatflow"||e.type==="Agentflow"||e.type==="AgentflowV2")&&t.jsx(S,{onClick:()=>M(e),data:e,images:Ce[e.id],icons:we[e.id]}),e.type==="Tool"&&t.jsx(S,{data:e,onClick:()=>E(e)})]}),!e.badge&&(e.type==="Chatflow"||e.type==="Agentflow"||e.type==="AgentflowV2")&&t.jsx(S,{onClick:()=>M(e),data:e,images:Ce[e.id],icons:we[e.id]}),!e.badge&&e.type==="Tool"&&t.jsx(S,{data:e,onClick:()=>E(e)})]},s))})}):t.jsx(je,{data:c.data,filterFunction:_,filterByType:Q,filterByBadge:K,filterByFramework:Z,filterByUsecases:ee,goToTool:E,goToCanvas:M,isLoading:C,setError:y,onDelete:P("templates:custom-delete")?yt:null,onShare:P("templates:custom-share")?mt:null}),!C&&(!c.data||c.data.length===0)&&t.jsxs(A,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[t.jsx(k,{sx:{p:2,height:"auto"},children:t.jsx("img",{style:{objectFit:"cover",height:"25vh",width:"auto"},src:He,alt:"WorkflowEmptySVG"})}),t.jsx("div",{children:"No Saved Custom Templates"})]})]})})]})}),t.jsx(Ut,{show:v,dialogProps:Ze,onCancel:()=>Y(!1),onConfirm:()=>Y(!1),onUseTemplate:e=>bt(e)}),Ie&&t.jsx(Gt,{show:Ie,dialogProps:dt,onCancel:()=>Fe(!1),setError:y}),t.jsx(qt,{})]})};export{Ns as default};

import{ak as g,a as f,r as i,c as j,aq as E,j as e,B as c,ag as y,w as S,S as b,l}from"./index-B1XR3Coy.js";import{E as I}from"./ExecutionDetails-Cn2bJoQa.js";import{e as v}from"./NodeExecutionDetails-DAbNicF8.js";import{I as w}from"./IconCircleXFilled-eMwzVwFM.js";import"./StopCircle-i-Eq3mUR.js";import"./Tooltip-9ICsuaYn.js";import"./IconCopy-BBl1XuSo.js";import"./IconShare-DiLHmK0B.js";import"./IconRefresh-B2aTlEaU.js";import"./createStyled-BzRwilhm.js";import"./MemoizedReactMarkdown-CNH2mkE4.js";import"./toPropertyKey-hKuLU48H.js";import"./index-D--Rb2MU.js";import"./main-BBsr8sqY.js";import"./CodeEditor-BjDzi2Vy.js";import"./index-DhL3T6x0.js";import"./IconClock-eC9b3RM9.js";import"./ToggleButtonGroup-D1WH89Fe.js";import"./CardMedia-DxratGiC.js";import"./TextField-BEeUeVUl.js";import"./FormControl-Cb0ROeST.js";import"./InputLabel-HPVYUEFn.js";const Q=()=>{const{id:r}=g(),a=f(),[s,d]=i.useState(null),[n,p]=i.useState({}),[u,x]=i.useState(!0),t=j(v.getExecutionByIdPublic);return i.useEffect(()=>{t.request(r)},[]),i.useEffect(()=>{if(t.data){const o=t.data,m=typeof o.executionData=="string"?JSON.parse(o.executionData):o.executionData;d(m);const h={...E.omit(o,["executionData"]),agentflow:{...n.agentflow}};p(h)}},[t.data]),i.useEffect(()=>{x(t.loading)},[t.loading]),e.jsx(e.Fragment,{children:u?null:e.jsx(e.Fragment,{children:!s||t.error?e.jsx(c,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:e.jsx(c,{sx:{maxWidth:"500px",width:"100%"},children:e.jsx(y,{variant:"outlined",sx:{border:`1px solid ${a.palette.error.main}`,borderRadius:2,padding:"20px",boxShadow:`0 4px 8px ${S(a.palette.error.main,.15)}`},children:e.jsxs(b,{spacing:2,alignItems:"center",children:[e.jsx(w,{size:50,color:a.palette.error.main}),e.jsx(l,{variant:"h3",color:"error.main",align:"center",children:"Invalid Execution"}),e.jsx(l,{variant:"body1",color:"text.secondary",align:"center",children:"The execution you're looking for doesn't exist or you don't have permission to view it."})]})})})}):e.jsx(I,{isPublic:!0,execution:s,metadata:n,onProceedSuccess:()=>{t.request(r)},onRefresh:o=>{t.request(o)}})})})};export{Q as default};

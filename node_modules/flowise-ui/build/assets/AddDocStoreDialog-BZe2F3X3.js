import{P as d,a as N,R as Y,j as e,o as R,p as B,r as l,q as P,H as j,D as z,h as G,ai as W,k as L,B as S,l as b,a1 as T,m as O,n as f,aa as F,s as _,E as D,J as $,K as q}from"./index-B1XR3Coy.js";import{C as H}from"./ConfirmDialog-Bksga_et.js";import{d as k}from"./documentstore-GQ_lrBF1.js";const U=({status:t,isTableView:o})=>{const a=N(),s=Y(n=>n.customization),i=n=>{switch(n){case"STALE":return s.isDarkMode?[a.palette.grey[400],a.palette.grey[600],a.palette.grey[800]]:[a.palette.grey[300],a.palette.grey[500],a.palette.grey[700]];case"EMPTY":return s.isDarkMode?["#4a148c","#6a1b9a","#ffffff"]:["#d1c4e9","#9575cd","#673ab7"];case"SYNCING":return s.isDarkMode?["#ff6f00","#ff8f00","#ffffff"]:["#fff8e1","#ffe57f","#ffc107"];case"UPSERTING":return s.isDarkMode?["#01579b","#0277bd","#ffffff"]:["#e1f5fe","#4fc3f7","#0288d1"];case"SYNC":return s.isDarkMode?["#1b5e20","#2e7d32","#ffffff"]:["#e8f5e9","#81c784","#43a047"];case"UPSERTED":return s.isDarkMode?["#004d40","#00695c","#ffffff"]:["#e0f2f1","#4db6ac","#00897b"];case"NEW":return s.isDarkMode?["#0d47a1","#1565c0","#ffffff"]:["#e3f2fd","#64b5f6","#1e88e5"];default:return s.isDarkMode?[a.palette.grey[300],a.palette.grey[500],a.palette.grey[700]]:[a.palette.grey[200],a.palette.grey[400],a.palette.grey[600]]}};return e.jsxs(e.Fragment,{children:[!o&&e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",background:t==="EMPTY"?"transparent":i(t)[0],border:t==="EMPTY"?"1px solid":"none",borderColor:t==="EMPTY"?i(t)[0]:"transparent",borderRadius:"25px",paddingTop:"3px",paddingBottom:"3px",paddingLeft:"10px",paddingRight:"10px",width:"fit-content"},children:[e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:t==="EMPTY"?"transparent":i(t)[1],border:t==="EMPTY"?"3px solid":"none",borderColor:t==="EMPTY"?i(t)[1]:"transparent"}}),e.jsx("span",{style:{fontSize:"0.7rem",color:i(t)[2],marginLeft:5},children:t})]}),o&&e.jsx("div",{style:{display:"flex",width:"20px",height:"20px",borderRadius:"50%",backgroundColor:t==="EMPTY"?"transparent":i(t)[1],border:t==="EMPTY"?"3px solid":"none",borderColor:t==="EMPTY"?i(t)[1]:"transparent"},title:t})]})};U.propTypes={status:d.string,isTableView:d.bool};const V=({show:t,dialogProps:o,onCancel:a,onConfirm:s})=>{const i=document.getElementById("portal"),n=R();B();const p=(...r)=>n($(...r)),m=(...r)=>n(q(...r)),[x,u]=l.useState(""),[g,y]=l.useState(""),[E,C]=l.useState("ADD"),[M,w]=l.useState();l.useEffect(()=>(C(o.type),o.type==="EDIT"&&o.data?(u(o.data.name),y(o.data.description),w(o.data.id)):o.type==="ADD"&&(u(""),y("")),()=>{u(""),y("")}),[o]),l.useEffect(()=>(n(t?{type:P}:{type:j}),()=>n({type:j})),[t,n]);const v=async()=>{try{const r={name:x,description:g},c=await k.createDocumentStore(r);c.data&&(p({message:"New Document Store created.",options:{key:new Date().getTime()+Math.random(),variant:"success",action:h=>e.jsx(f,{style:{color:"white"},onClick:()=>m(h),children:e.jsx(D,{})})}}),s(c.data.id))}catch(r){p({message:`Failed to add new Document Store: ${typeof r.response.data=="object"?r.response.data.message:r.response.data}`,options:{key:new Date().getTime()+Math.random(),variant:"error",persist:!0,action:c=>e.jsx(f,{style:{color:"white"},onClick:()=>m(c),children:e.jsx(D,{})})}}),a()}},A=async()=>{try{const r={name:x,description:g},c=await k.updateDocumentStore(M,r);c.data&&(p({message:"Document Store Updated!",options:{key:new Date().getTime()+Math.random(),variant:"success",action:h=>e.jsx(f,{style:{color:"white"},onClick:()=>m(h),children:e.jsx(D,{})})}}),s(c.data.id))}catch(r){p({message:`Failed to update Document Store: ${typeof r.response.data=="object"?r.response.data.message:r.response.data}`,options:{key:new Date().getTime()+Math.random(),variant:"error",persist:!0,action:c=>e.jsx(f,{style:{color:"white"},onClick:()=>m(c),children:e.jsx(D,{})})}}),a()}},I=t?e.jsxs(z,{fullWidth:!0,maxWidth:"sm",open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(G,{style:{fontSize:"1rem"},id:"alert-dialog-title",children:e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[e.jsx(W,{style:{marginRight:"10px"}}),o.title]})}),e.jsxs(L,{children:[e.jsxs(S,{sx:{p:2},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[e.jsxs(b,{children:["Name",e.jsx("span",{style:{color:"red"},children:"Â *"})]}),e.jsx("div",{style:{flexGrow:1}})]}),e.jsx(T,{size:"small",sx:{mt:1},type:"string",fullWidth:!0,onChange:r=>u(r.target.value),value:x??""},"documentStoreName")]}),e.jsxs(S,{sx:{p:2},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[e.jsx(b,{children:"Description"}),e.jsx("div",{style:{flexGrow:1}})]}),e.jsx(T,{size:"small",multiline:!0,rows:7,sx:{mt:1},type:"string",fullWidth:!0,onChange:r=>y(r.target.value),value:g??""},"documentStoreDesc")]})]}),e.jsxs(O,{children:[e.jsx(f,{onClick:()=>a(),children:"Cancel"}),e.jsx(F,{disabled:!x,variant:"contained",onClick:()=>E==="ADD"?v():A(),children:o.confirmButtonName})]}),e.jsx(H,{})]}):null;return _.createPortal(I,i)};V.propTypes={show:d.bool,dialogProps:d.object,onCancel:d.func,onConfirm:d.func};export{V as A,U as D};

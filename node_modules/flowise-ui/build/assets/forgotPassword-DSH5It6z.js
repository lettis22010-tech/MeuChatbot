import{a as g,p as j,r as a,b7 as w,c as v,j as e,M as b,S as c,l as o,Z as I,B as C,aa as P,bh as S}from"./index-B1XR3Coy.js";import{I as E}from"./Input-C2v4FwXn.js";import{B as R}from"./BackdropLoader-C982mQas.js";import{A as p,I as A}from"./IconExclamationCircle-BsAK4qbB.js";import{I as B}from"./IconCircleCheck-CKqsC1lm.js";import"./ListItem-C9nlU6HX.js";import"./FormControl-Cb0ROeST.js";import"./Close-CA_iFeNy.js";const G=()=>{const l=g();j();const m={label:"Username",name:"username",type:"email",placeholder:"user@company.com"},[i,u]=a.useState(""),{isEnterpriseLicensed:x}=w(),[f,n]=a.useState(!1),[s,d]=a.useState(void 0),r=v(S.forgotPassword),h=async t=>{t.preventDefault();const y={user:{email:i}};n(!0),await r.request(y)};return a.useEffect(()=>{if(r.error){const t=typeof r.error.response.data=="object"?r.error.response.data.message:r.error.response.data;d({type:"error",msg:t??"Failed to send instructions, please contact your administrator."}),n(!1)}},[r.error]),a.useEffect(()=>{r.data&&(d({type:"success",msg:"Password reset instructions sent to the email."}),n(!1))},[r.data]),e.jsx(e.Fragment,{children:e.jsx(b,{children:e.jsxs(c,{flexDirection:"column",sx:{width:"480px",gap:3},children:[s&&(s==null?void 0:s.type)==="error"&&e.jsx(p,{icon:e.jsx(A,{}),variant:"filled",severity:"error",children:s.msg}),s&&(s==null?void 0:s.type)!=="error"&&e.jsx(p,{icon:e.jsx(B,{}),variant:"filled",severity:"success",children:s.msg}),e.jsxs(c,{sx:{gap:1},children:[e.jsx(o,{variant:"h1",children:"Forgot Password?"}),e.jsxs(o,{variant:"body2",sx:{color:l.palette.grey[600]},children:["Have a reset password code?"," ",e.jsx(I,{style:{color:l.palette.primary.main},to:"/reset-password",children:"Change your password here"}),"."]})]}),e.jsx("form",{onSubmit:h,children:e.jsxs(c,{sx:{width:"100%",flexDirection:"column",alignItems:"left",justifyContent:"center",gap:2},children:[e.jsxs(C,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[e.jsxs(o,{children:["Email",e.jsx("span",{style:{color:"red"},children:"Â *"})]}),e.jsx(o,{align:"left"}),e.jsx("div",{style:{flexGrow:1}})]}),e.jsx(E,{inputParam:m,onChange:t=>u(t),value:i,showDialog:!1}),x&&e.jsx(o,{variant:"caption",children:e.jsx("i",{children:"If you forgot the email you used for signing up, please contact your administrator."})})]}),e.jsx(P,{variant:"contained",style:{borderRadius:12,height:40,marginRight:5},disabled:!i,type:"submit",children:"Send Reset Password Instructions"})]})}),e.jsx(R,{open:f})]})})})};export{G as default};
